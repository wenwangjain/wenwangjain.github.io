---
title: 数仓开发\数据开发面试问题
weight: 1
#next: /step1
prev: /interview
#editURL: "https://example.com/edit/this/page"
type: "docs"
toc: true
math: true
---

## 1. 相关概念

 

## 2. 常见面试问题

### 2.2. 数仓为什么要分层？

<br><br>

### 2.3. 数仓分几层？

- ***ODS 操作数据层\贴源层***： 直接同步业务数据库、日志文件等原始数据，保持数据原貌。主要完成数据同步。
- ***DWD 明细数据层***： 对 ODS 层数据进行清洗、标准化、维度退化、脱敏等操作，生成高质量的、干净的、一致的明细数据。
- ***DWS 服务数据层\汇总数据层***：以主题域为导向，对 DWD 层数据进行关联或轻度聚合，形成宽表或通用汇总指标（如用户、商品、渠道粒度的日汇总表）。目的是服务复用。
- ***ADS\APP 应用数据层***： 面向具体的业务应用，在 DWS 基础上进行更高度、更个性化的聚合，以满足最终的业务需求。
- ***DIM 维度层***： 存放统一的维度表。


<br><br>

### 2.4. DWM 层是啥？

{{< callout >}}
DWM 通常指的是 ***中间层\模型层***。

- 它在经典的三层架构（ODS -> DWD -> DWS/ADS）中，***位于 DWD（明细数据层） 和 DWS（服务数据层） 之间***。
- 它的核心定位是：***基于DWD层的明细数据，构建跨主题域的、可复用的、中度聚合的中间模型***。
- 您可以把它理解为 ***DWS 层的前置加工区*** 或 ***公共汇总模型层***。


DWM层是数据仓库体系中的一个中间层，它的主要目的是解耦复杂计算、沉淀可复用的公共中间模型。它通过进行跨主题域的数据整合和中度聚合，将DWD层的明细数据加工成更易用的‘半成品’，极大地减轻了DWS层的负担，提升了整个数据仓库的开发效率和资源利用率，是数据体系走向成熟和精细化治理的一个重要标志。

{{< /callout >}}





{{% details title="1️⃣ 为什么需要 DWM 层？（DWM 层解决的问题）" closed="true" %}}

<br>

随着业务复杂度的提升，如果只有 DWD 和 DWS 两层，可能会遇到一些问题：

1. ***DWS 层负担过重，重复开发严重：***

> 多个 DWS 主题表可能需要相同的中间计算步骤。例如，计算“最近30天用户行为”可能需要先从 DWD 层过滤30天数据、关联用户维度、排除测试账号等。如果每个DWS表都独立做一遍，会造成大量重复计算，浪费资源且维护困难。

2. ***跨主题域的数据整合需求：***

> DWS 层通常是面向单一主题的（如用户主题、商品主题、交易主题）。但有些业务场景需要融合多个主题的数据。例如，“直播间维度”的GMV看板，需要整合“用户”、“商品”、“交易”、“直播互动”等多个主题的数据。这个整合过程放在DWS层会让DWS表变得过于复杂。

3. ***计算复杂度高，直接放在 DWS 层效率低下：***

> 一些复杂的计算，如用户生命周期（LTV）、用户路径分析、Session 切割等，逻辑复杂、计算耗时。如果每个DWS表都直接从最细粒度的DWD层开始计算，性能会是一个很大的瓶颈。

DWM 层的引入，正是为了 ***解耦上述复杂计算，沉淀公共的、跨域的中间结果，为上游的 DWS 和 ADS 层提供更高效、更易用的数据服务***。

<br>

{{% /details %}}





{{% details title="2️⃣ DWM 层的核心职责与特点？" closed="true" %}}

{{% /details %}}












<br><br><br><br>

事实表和维度表

维度退化







<br>

## 参考网址

- 
