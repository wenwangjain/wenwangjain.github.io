---
title: 3.4. 数仓架构
weight: 4
#next: /step1
prev: /data_warehouse
editURL: "https://example.com/edit/this/page"
type: "docs" # 点击后任然显示左边目录
toc: true
math: true
---

## 1. 架构概述

| 架构维度          | 定位                     | 核心任务                                                                 | 关键交付物                  | 依赖关系                     |
|-------------------|--------------------------|--------------------------------------------------------------------------|-----------------------------|------------------------------|
| **业务架构**<br>（战略层） | 为什么建数仓？<br>（价值定义） | - 明确组织真实诉求（数据资产/数据应用）<br>- 识别服务对象（高管/业务部门）<br>- 制定数据战略目标 | 业务需求说明书<br>数据治理框架 | 驱动所有其他架构设计         |
| **应用架构**<br>（战术层） | 如何实现业务需求？<br>（系统蓝图） | - 功能模块划分：<br> ▪ 数据接入层<br> ▪ 数据存储层<br> ▪ 管理工具（元数据/质量监控）<br> ▪ 数据服务层（BI/API） | 系统架构图<br>接口规范文档  | 承接业务需求<br>约束数据模型设计 |
| **数据架构**<br>（模型层） | 数据如何结构化？<br>（逻辑设计） | - 分层建模（ODS→DWD→DWS→ADS）<br>- 主题域划分（如销售、供应链）<br>- 标准化定义（字段命名/计算口径） | 数据模型ER图<br>数据字典    | 受应用功能约束<br>指导ETL开发 |
| **技术架构**<br>（实现层） | 如何技术落地？<br>（工具选型） | - 技术栈选型（Hadoop/云数仓）<br>- 组件集成（Spark+Kafka+Airflow）<br>- 性能优化（索引/缓存策略） | 技术方案书<br>系统拓扑图    | 支撑数据模型<br>决定部署方案 |
| **ETL架构**<br>（流水线层） | 数据如何加工？<br>（流程设计） | - 处理流程（抽取→转换→加载）<br>- 任务调度（依赖关系/优先级）<br>- 容错处理（重试/报警机制） | ETL流程图<br>调度配置表     | 实现数据模型<br>依赖技术组件 |
| **部署架构**<br>（物理层） | 系统如何安装？<br>（资源配置） | - 环境规划（开发/测试/生产）<br>- 硬件配置（服务器/存储/网络）<br>- 高可用部署（集群/容灾） | 部署方案书<br>资源清单      | 依赖技术选型<br>保障系统运行 |

<br>

## 2. 架构详述

### 2.1、业务架构

定义：***描述数据仓库如何支持业务目标和业务流程***。

关键要素：
1. ***业务目标对齐***：明确数据仓库要解决的业务问题
2. 利益相关者分析：识别业务用户、决策者等角色
3. KPI体系：确定关键绩效指标和度量标准
4. 数据治理框架：数据所有权、质量标准等
5. ***价值流分析***：数据如何为业务创造价值

示例：销售分析、客户360视图、运营效率分析等业务场景


<br>


### 2.2、应用架构

定义：***描述数据仓库系统中的功能模块和应用组件***。

关键要素：
- 功能模块划分：
  1. 数据采集
  2. 数据处理
  3. 数据存储
  4. 数据分析
  5. 数据服务

- 应用组件：
  1. ETL/ELT工具
  2. BI工具
  3. 报表系统
  4. 数据挖掘工具
  5. 数据目录

接口规范：系统间交互方式

用户交互层：门户、自助分析工具等


<br>


### 2.3、数据架构

定义：***描述数据的组织、结构和流动***。

关键要素：
- 数据分层：
  1. ODS (操作数据存储)
  2. DWD (数据仓库明细层)
  3. DWM (数据仓库中间层)
  4. DWS (数据仓库汇总层)
  5. ADS (应用数据服务层)

- 数据模型：
  1. 星型模型
  2. 雪花模型
  3. 星座模型
  4. 数据宽表

数据生命周期管理

主数据管理

元数据管理

数据质量框架


<br>


### 2.4、技术架构

定义：***描述实现数据仓库的技术组件和基础设施***。

关键要素：

- 技术栈选择：
 1. 传统RDBMS (Oracle, Teradata)
 2. 大数据平台 (Hadoop, Spark)
 3. 云数据仓库 (Snowflake, Redshift, BigQuery)

- 计算资源：
 1. 批处理引擎
 2. 流处理引擎
 3. 查询引擎

- 存储技术：
 1. 关系型数据库
 2. NoSQL数据库
 3. 数据湖存储

- 数据处理框架：
 1. MapReduce
 2. Spark
 3. Flink

- 安全架构：
 1. 认证授权
 2. 数据加密
 3. 审计日志



<br>


### 2.5、ETL 架构

定义：***描述数据抽取、转换和加载的过程设计***。


























